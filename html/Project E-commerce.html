<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - Projet E-commerce</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/project-page.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- En-tête avec Navigation -->
    <header>
        <div class="container">
            <h1 class="logo">Mon <span>Portfolio</span></h1>
            <nav>
                <ul>
                    <li><a href="index.html">Accueil</a></li>
                    <li><a href="#presentation">Présentation</a></li>
                    <li><a href="#architecture">Architecture</a></li>
                    <li><a href="#fonctionnalites">Fonctionnalités</a></li>
                    <li><a href="#defis">Défis & Solutions</a></li>
                </ul>
            </nav>
            <div class="burger-menu">
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>
        </div>
    </header>

    <!-- Section Héro -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h1>Projet E-commerce PHP</h1>
                <p>Site de vente en ligne | Gestion de panier | Système de paiement</p>
                <p><small>Projet réalisé en 2024</small></p>
                <div class="hero-btns">
                    <a href="#presentation" class="btn primary-btn">Découvrir le projet</a>
                    <a href="../index.html" class="btn secondary-btn">Retour au Portfolio</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Présentation du projet -->
    <section class="section" id="presentation">
        <div class="container">
            <h2 class="section-title">Présentation du Projet</h2>
            <div class="project-details">
                <div class="project-image">
                    <img src="../images/project1.jpg" alt="Aperçu du site e-commerce">
                </div>
                <div class="project-info">
                    <h3>Site e-commerce complet en PHP</h3>
                    <p>Ce projet est une application e-commerce développée avec PHP et MySQL. Il s'agit d'un site qui permet aux utilisateurs de parcourir un catalogue de produits, les ajouter à leur panier via AJAX sans rechargement de page, et finaliser l'achat avec un paiement sécurisé via la passerelle e-transactions.</p>
                    <p>Le projet a impliqué un travail de débogage approfondi pour corriger des erreurs dans les requêtes SQL, améliorer l'affichage des informations client sur la page de paiement et assurer une exécution fluide du processus de commande.</p>
                    <div class="tech-stack">
                        <span class="tech-tag">HTML</span>
                        <span class="tech-tag">CSS</span>
                        <span class="tech-tag">JavaScript</span>
                        <span class="tech-tag">PHP</span>
                        <span class="tech-tag">MySQL</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Architecture du projet -->
    <section class="section gray-bg" id="architecture">
        <div class="container">
            <h2 class="section-title">Architecture du Projet</h2>
            <div class="skills-container">
                <div class="skill-item">
                    <div class="skill-icon"><i class="fas fa-sitemap"></i></div>
                    <h4>Structure MVC</h4>
                    <p>Architecture Modèle-Vue-Contrôleur avec des contrôleurs préfixés "c-", des vues "v-" et un modèle central utilisant PDO via une classe ExtendedPDO personnalisée pour les interactions avec la base de données.</p>
                </div>
                <div class="skill-item">
                    <div class="skill-icon"><i class="fas fa-database"></i></div>
                    <h4>Base de Données</h4>
                    <p>MySQL avec tables relationnelles pour clients, produits, commandes, paniers et détails de panier. Structure optimisée avec clés étrangères pour maintenir l'intégrité référentielle des données.</p>
                </div>
                <div class="skill-item">
                    <div class="skill-icon"><i class="fas fa-shield-alt"></i></div>
                    <h4>Sécurité</h4>
                    <p>Requêtes préparées avec PDO pour prévenir les injections SQL, validation des données utilisateur, hachage sécurisé SHA-512 pour les communications avec la passerelle de paiement, et protection des sessions utilisateur.</p>
                </div>
                <div class="skill-item">
                    <div class="skill-icon"><i class="fas fa-code"></i></div>
                    <h4>Interactivité JS/AJAX</h4>
                    <p>Panier dynamique avec AJAX permettant d'ajouter/retirer des produits sans rechargement, scripts optimisés pour une expérience utilisateur fluide et réactive.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Fonctionnalités -->
    <section class="section" id="fonctionnalites">
        <div class="container">
            <h2 class="section-title">Fonctionnalités Principales</h2>
            <div class="projects-grid">
                <div class="project-item" data-category="web">
                    <div class="project-img">
                        <img src="../images/Gestion_du_Panier.jpg" alt="Gestion du panier">
                    </div>
                    <div class="project-info">
                        <h3>Gestion du Panier</h3>
                        <p>Système de panier dynamique en AJAX permettant d'ajouter, modifier les quantités ou supprimer des produits sans rechargement de page. Mise à jour en temps réel des totaux et persistance du panier en base de données.</p>
                        <div class="project-tags">
                            <span>JavaScript</span>
                            <span>AJAX</span>
                            <span>PHP</span>
                        </div>
                    </div>
                </div>
                <div class="project-item" data-category="web">
                    <div class="project-img">
                        <img src="../images/Processus_de_Commande.jpg" alt="Processus de commande">
                    </div>
                    <div class="project-info">
                        <h3>Processus de Commande</h3>
                        <p>Formulaire de saisie des informations client et adresse de livraison avec validation côté serveur, création d'une référence unique pour chaque commande et stockage sécurisé des informations en base de données.</p>
                        <div class="project-tags">
                            <span>PHP</span>
                            <span>MySQL</span>
                            <span>Validation</span>
                        </div>
                    </div>
                </div>
                <div class="project-item" data-category="web">
                    <div class="project-img">
                        <img src="../images/Systeme_de_Paiement.jpg" alt="Système de paiement">
                    </div>
                    <div class="project-info">
                        <h3>Système de Paiement</h3>
                        <p>Intégration de la passerelle de paiement e-transactions avec hachage SHA-512 pour la sécurité des données. Gestion des différents retours et mise à jour du statut des commandes.</p>
                        <div class="project-tags">
                            <span>Sécurité</span>
                            <span>API</span>
                            <span>PHP</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Défis & Solutions -->
    <section class="section gray-bg" id="defis">
        <div class="container">
            <h2 class="section-title">Défis & Solutions</h2>
            <div class="challenges-grid">
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-bug"></i></div>
                    <h3>Correction des Erreurs SQL</h3>
                    <p><strong>Problème :</strong> Erreur "Unknown column 'nom' in 'INSERT INTO'" lors de la création de commandes.</p>
                    <p><strong>Solution :</strong> Analyse de la structure de la base de données et restructuration de la requête d'insertion pour n'utiliser que les colonnes existantes (id_client, date_creation, statut, reference, etc.).</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-database"></i></div>
                    <h3>Sensibilité à la Casse dans MySQL</h3>
                    <p><strong>Problème :</strong> Erreur "Table 'Produit' doesn't exist" sur un serveur Linux sensible à la casse.</p>
                    <p><strong>Solution :</strong> Correction systématique de toutes les requêtes SQL pour utiliser les noms de tables avec la casse correcte et mise en place de conventions cohérentes.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-credit-card"></i></div>
                    <h3>Informations Client sur la Page de Paiement</h3>
                    <p><strong>Problème :</strong> Les informations client n'apparaissaient pas sur la page de récapitulatif avant paiement.</p>
                    <p><strong>Solution :</strong> Réécriture du contrôleur pour extraire correctement les données client et afficher les informations de manière structurée.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-key"></i></div>
                    <h3>Génération de Références Uniques</h3>
                    <p><strong>Problème :</strong> Absence d'identifiant unique pour les commandes avec la passerelle de paiement.</p>
                    <p><strong>Solution :</strong> Mise en place d'une génération de référence unique pour chaque commande et ajout d'une colonne dédiée dans la base de données.</p>
                </div>
            </div>
            
            <div class="project-details" style="margin-top: 50px;">
                <div class="project-info">
                    <h3>Technologies Utilisées</h3>
                    <p><strong>Langages :</strong> PHP 8, HTML5, CSS3, JavaScript</p>
                    <p><strong>Base de données :</strong> MySQL avec PDO</p>
                    <p><strong>Frontend :</strong> JavaScript natif, AJAX</p>
                    <p><strong>Sécurité :</strong> PDO avec requêtes préparées, validation des entrées</p>
                    <div class="tech-stack">
                        <span class="tech-tag">PHP</span>
                        <span class="tech-tag">MySQL</span>
                        <span class="tech-tag">JavaScript</span>
                        <span class="tech-tag">AJAX</span>
                        <span class="tech-tag">PDO</span>
                        <span class="tech-tag">MVC</span>
                    </div>
                </div>
                <div class="project-info">
                    <h3>Structure du Code</h3>
                    <p><strong>Modèles :</strong> ExtendedPDO.php et model.php pour la gestion des données</p>
                    <p><strong>Vues :</strong> Organisation par fonctionnalités (panier, paiement, produit)</p>
                    <p><strong>Contrôleurs :</strong> Préfixés par "c-" et organisés par fonctionnalité</p>
                    <p><strong>Utils :</strong> Classes utilitaires pour la gestion des paiements</p>
                </div>
            </div>
            
            <a href="index.html" class="btn primary-btn back-to-portfolio">Retour au Portfolio</a>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="copyright">
                    <p>&copy; 2025 Nicolas Piveteau - Tous droits réservés</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/script.js"></script>

    <script>
        // JavaScript simple pour le menu de navigation
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-links a');
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    
                    if (targetSection) {
                        e.preventDefault();
                        window.scrollTo({
                            top: targetSection.offsetTop - 70,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>
